# 测试日志系统

**重启服务器后你应该立即看到：**

```
[2026-01-25 19:30:00] [INFO] src.api.logging_config - ================================================================================
[2026-01-25 19:30:00] [INFO] src.api.logging_config - 日志系统初始化完成
[2026-01-25 19:30:00] [INFO] src.api.logging_config - ================================================================================
[2026-01-25 19:30:00] [INFO] src.api.main - ================================================================================
[2026-01-25 19:30:00] [INFO] src.api.main - FastAPI Application Started
[2026-01-25 19:30:00] [INFO] src.api.main - CORS Origins: ['http://localhost:5173']
[2026-01-25 19:30:00] [INFO] src.api.main - Conversations Dir: conversations
[2026-01-25 19:30:00] [INFO] src.api.main - ================================================================================
INFO:     Started server process [12345]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
```

## 重要修复

1. ✅ 创建了独立的 `logging_config.py` 模块
2. ✅ 使用 `force=True` 强制覆盖 uvicorn 的日志配置
3. ✅ 在 main.py 最开始就初始化日志系统
4. ✅ 配置了 StreamHandler 确保输出到控制台

## 现在测试

### 方法1: 使用启动脚本
```bash
start_server.bat
```

### 方法2: 手动启动
```bash
venv\Scripts\activate
python -m uvicorn src.api.main:app --reload --port 8000
```

启动后：
1. **立即检查**：你应该看到启动日志
2. **发送消息**：在网页发送一条消息
3. **查看终端**：你应该看到完整的处理日志
4. **检查日志文件**：`python view_logs.py`

如果还是没有日志输出，请把启动时的输出发给我看看。
